<?xml version="1.0" encoding="UTF-8"?>

<?import com.jfoenix.controls.JFXButton?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane fx:id="mainPane" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="500.0" prefWidth="950.0" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="src.client.Controller">

  <left>
    <Pane prefHeight="334.0" prefWidth="123.0" BorderPane.alignment="CENTER">
      <children>
        <VBox prefHeight="334.0" prefWidth="123.0">
          <children>
            <JFXButton onAction="#handleUpload" prefHeight="30.0" prefWidth="121.0" text="Tải lên">
              <graphic>
                <ImageView fitHeight="30.0" fitWidth="30.0" pickOnBounds="true" preserveRatio="true">
                  <image>
                    <Image url="@/image/icons8-upload-button-50.png" />
                  </image>
                </ImageView>
              </graphic>
              <opaqueInsets>
                <Insets />
              </opaqueInsets>
              <padding>
                <Insets right="35.0" />
              </padding>
            </JFXButton>
            <JFXButton onAction="#shareFile" prefHeight="30.0" prefWidth="121.0" text="Chia sẻ">
              <graphic>
                <ImageView fitHeight="30.0" fitWidth="30.0" pickOnBounds="true" preserveRatio="true">
                  <image>
                    <Image url="@/image/icons8-share-30.png" />
                  </image>
                </ImageView>
              </graphic>
              <padding>
                <Insets right="35.0" />
              </padding>
              <VBox.margin>
                <Insets top="10.0" />
              </VBox.margin>
            </JFXButton>
            <JFXButton onAction="#showMyFiles" prefHeight="30.0" prefWidth="121.0" text="File của tôi">
              <graphic>
                <ImageView fitHeight="30.0" fitWidth="30.0" pickOnBounds="true" preserveRatio="true">
                  <image>
                    <Image url="@../../image/icons8-document-48.png" />
                  </image>
                </ImageView>
              </graphic>
              <padding>
                <Insets right="20.0" />
              </padding>
              <VBox.margin>
                <Insets top="10.0" />
              </VBox.margin>
            </JFXButton>
            <JFXButton onAction="#showReceivedFiles" prefHeight="30.0" prefWidth="121.0" text="File được chia sẻ">
              <graphic>
                <ImageView fitHeight="30.0" fitWidth="30.0" pickOnBounds="true" preserveRatio="true">
                  <image>
                    <Image url="@../../image/icons8-shared-file-24.png" />
                  </image>
                </ImageView>
              </graphic>
              <font>
                <Font size="10.0" />
              </font>
              <VBox.margin>
                <Insets top="10.0" />
              </VBox.margin>
            </JFXButton>
            <JFXButton onAction="#handleRefresh" prefHeight="30.0" prefWidth="121.0" text="Làm mới">
              <graphic>
                <ImageView fitHeight="30.0" fitWidth="30.0" pickOnBounds="true" preserveRatio="true">
                  <image>
                    <Image url="@../../image/icons8-refresh-30.png" />
                  </image>
                </ImageView>
              </graphic>
              <padding>
                <Insets right="25.0" />
              </padding>
              <VBox.margin>
                <Insets top="10.0" />
              </VBox.margin>
            </JFXButton>
            <JFXButton onMouseClicked="#handleDocumentClick" prefHeight="30.0" prefWidth="121.0" text="Xem chi tiết">
              <VBox.margin>
                <Insets top="10.0" />
              </VBox.margin>
                     <graphic>
                        <ImageView fitHeight="30.0" fitWidth="30.0" pickOnBounds="true" preserveRatio="true">
                           <image>
                              <Image url="@../../image/icons8-view-48.png" />
                           </image>
                        </ImageView>
                     </graphic>
                     <padding>
                        <Insets right="10.0" />
                     </padding>
            </JFXButton>
            <JFXButton onAction="#handleDeleteFile" prefHeight="30.0" prefWidth="121.0" text="Xóa">
              <graphic>
                <ImageView fitHeight="30.0" fitWidth="30.0" pickOnBounds="true" preserveRatio="true">
                  <image>
                    <Image url="@/image/icons8-delete-50.png" />
                  </image>
                </ImageView>
              </graphic>
              <padding>
                <Insets right="52.0" />
              </padding>
              <opaqueInsets>
                <Insets right="50.0" />
              </opaqueInsets>
                     <VBox.margin>
                        <Insets top="10.0" />
                     </VBox.margin>
            </JFXButton>
                  <JFXButton onAction="#handleDownload" prefHeight="30.0" prefWidth="121.0" text="Tải xuống">
                     <graphic>
                        <ImageView fitHeight="30.0" fitWidth="30.0" pickOnBounds="true" preserveRatio="true">
                           <image>
                              <Image url="@../../image/icons8-download-64.png" />
                           </image>
                        </ImageView>
                     </graphic>
                     <padding>
                        <Insets right="25.0" />
                     </padding>
                     <VBox.margin>
                        <Insets top="10.0" />
                     </VBox.margin></JFXButton>
          </children>
        </VBox>
      </children>
    </Pane>
  </left>

  <right>
    <VBox fx:id="fileDetail" prefHeight="434.0" prefWidth="182.0" style="-fx-background-color: white; -fx-background-radius: 10px;" BorderPane.alignment="CENTER">
      <children>
        <Label prefHeight="45.0" prefWidth="101.0" text="Chi tiết tệp tin">
          <padding>
            <Insets bottom="20.0" top="5.0" />
          </padding>
          <font>
            <Font name="System Bold" size="14.0" />
          </font>
        </Label>
        <Label text="Người tải" />
        <Label fx:id="uploaderNameLabel" alignment="TOP_LEFT" prefHeight="30.0" prefWidth="210.0" text="" />
        <Label prefHeight="19.0" prefWidth="70.0" text="Tên tệp">
          <font>
            <Font size="13.0" />
          </font>
        </Label>
        <Label fx:id="fileName" alignment="TOP_LEFT" ellipsisString="" prefHeight="60.0" prefWidth="210.0" text="" textOverrun="CLIP" wrapText="true">
          <VBox.margin>
            <Insets />
          </VBox.margin>
        </Label>
        <Label prefHeight="18.0" prefWidth="66.0" text="Kích thước">
          <font>
            <Font size="13.0" />
          </font>
        </Label>
        <Label fx:id="fileSize" alignment="TOP_LEFT" prefHeight="30.0" prefWidth="210.0" text="" />
        <Label prefHeight="0.0" prefWidth="115.0" text="Thời gian thực hiện">
          <font>
            <Font size="13.0" />
          </font>
        </Label>
        <Label fx:id="uploadDate" prefHeight="30.0" prefWidth="206.0" text="" />
      </children>
      <padding>
        <Insets left="5.0" right="5.0" />
      </padding>
    </VBox>
  </right>

  <center>
    <AnchorPane prefHeight="429.0" prefWidth="593.0" style="-fx-background-color: white; -fx-background-radius: 10px;" BorderPane.alignment="CENTER">
      <children>
        <Label layoutX="7.0" layoutY="2.0" prefHeight="23.0" prefWidth="124.0" text="Danh sách tệp tin" AnchorPane.topAnchor="2.0">
          <font>
            <Font name="System Bold" size="14.0" />
          </font>
        </Label>
        <TableView fx:id="sharedFileTableView" layoutY="26.0" prefHeight="402.0" prefWidth="595.0" visible="false" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="5" AnchorPane.topAnchor="30.0">
          <columns>
            <TableColumn fx:id="sharedNameColumn" maxWidth="5000.0" minWidth="100.0" prefWidth="210.0" text="Tên file" />
            <TableColumn fx:id="sharedUploaderColumn" maxWidth="5000.0" minWidth="100.0" prefWidth="120.0" text="Người chia sẻ" />
            <TableColumn fx:id="sharedTimeColumn" maxWidth="5000.0" minWidth="100.0" prefWidth="150.0" text="Thời gian" />
            <TableColumn fx:id="sharedSizeColumn" maxWidth="5000.0" minWidth="100.0" prefWidth="106.0" text="Kích thước" />
          </columns>
        </TableView>
        <TableView fx:id="fileTableView" layoutX="1.0" layoutY="26.0" prefHeight="402.0" prefWidth="593.0" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="5" AnchorPane.topAnchor="30.0">
          <columns>
            <TableColumn fx:id="nameColumn" maxWidth="5000.0" minWidth="100.0" prefWidth="210.0" text="Tên file" />
            <TableColumn fx:id="uploaderColumn" maxWidth="5000.0" minWidth="100.0" prefWidth="120.0" text="Người tải" />
            <TableColumn fx:id="timeColumn" maxWidth="5000.0" minWidth="100.0" prefWidth="150.0" text="Thời gian" />
            <TableColumn fx:id="sizeColumn" maxWidth="5000.0" minWidth="100.0" prefWidth="106.0" text="Kích thước" />
          </columns>
        </TableView>
      </children>
    </AnchorPane>
  </center>
   <top>
      <AnchorPane prefHeight="73.0" prefWidth="950.0" BorderPane.alignment="CENTER">
         <children>
        <Label layoutY="17.0" text="MyFile" textFill="#0696e4">
          <graphic>
            <ImageView fitHeight="49.0" fitWidth="38.0" pickOnBounds="true" preserveRatio="true">
                     <image>
                        <Image url="@../../image/icons8-file-storage-64.png" />
                     </image>
            </ImageView>
          </graphic>
          <opaqueInsets>
            <Insets />
          </opaqueInsets>
          <font>
            <Font name="System Bold" size="16.0" />
          </font>
        </Label>
        <TextField fx:id="searchField" layoutX="191.0" layoutY="25.0" prefHeight="30.0" prefWidth="283.0" promptText="Nhập thông tin"/>
        <JFXButton layoutX="475.0" layoutY="18.0" onAction="#handleSearch" prefHeight="40.0" prefWidth="77.0" text="Tìm">
          <graphic>
            <ImageView fitHeight="30.0" fitWidth="30.0" pickOnBounds="true" preserveRatio="true">
              <image>
                <Image url="@/image/icons8-search-50.png" />
              </image>
            </ImageView>
          </graphic>
               <font>
                  <Font size="14.0" />
               </font>
        </JFXButton>
        <VBox alignment="CENTER" layoutX="825.0" layoutY="10.0" prefHeight="56.0" prefWidth="38.0" AnchorPane.rightAnchor="30" AnchorPane.topAnchor="10">
          <children>
            <ImageView fitHeight="35.0" fitWidth="35.0" pickOnBounds="true" preserveRatio="true" VBox.vgrow="ALWAYS">
              <image>
                <Image url="@../../image/icons8-user-48.png" />
              </image>
            </ImageView>
            <Label fx:id="usernameLabel" alignment="CENTER" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="18.0" text="Label">
              <font>
                <Font name="System Bold" size="12.0" />
              </font>
            </Label>
          </children>
        </VBox>
         </children>
      </AnchorPane>
   </top>
</BorderPane>
